{% extends 'main.html' %}

{% block content %}

<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <!-- Required meta tags always come first -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    
    <title>Liver Disease Classification</title>
</head>

<body id="body">

    <div class="container" id="breadcrumb">
        <div class="row">
            <ol class="col-12 breadcrumb">
               <li class="breadcrumb-item"><a href="{% url 'index' %}">Home</a></li>
               <li class="breadcrumb-item active">My Profile</li>
            </ol>
        </div>
    </div>

    <div class="row row-content">
        
    <div class="col-md-6">
        <div class="card">
            <h3 class="card-header  text-black">{{patient.patient_name}}</h3>
            <div class="card-body">
                <dl class="row">
                    <dt class="col-6">Full Name</dt>
                    <dd class="col-6">{{patient.patient_name}}</dd>
                    <dt class="col-6">Username</dt>
                    <dd class="col-6">{{patient.username}}</dd>
                    <dt class="col-6">Assigned Doctor</dt>
                    <dd class="col-6">{{patient.assigned_doctor}}</dd>
                    <dt class="col-6">Phone No.</dt>
                    <dd class="col-6">{{patient.phone_num}}</dd>
                    <dt class="col-6">Date of Birth</dt>
                    <dd class="col-6">{{patient.birth_date}}</dd>
                </dl>
                <div class="col-md-2 mt-5">
                    <button onclick="toggleEditReport"><span class="fa fa-edit fa-lg"></span></button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="table-responsive col-md-6">
        <table class="table table-striped">
            <thead class="thead-light">
                <tr>
                    <th>Report ID</th>
                    <th>Patient Name</th>
                    <th>Pathologist</th>
                    <th>Date</th>
                </tr>
            </thead>
            {% for report in reports %}
            <tbody>
                <tr>
                    <th>{{report.id}}</th>
                    {% if request.session.role == 'admin' %}
                    <th>{{patient.patient_name}}</th>
                    {% else %}
                    <th><a href = "{% url 'report' report.id %}">{{patient.patient_name}}</a></th>
                    {% endif %}
                    <th>{{report.doctor}}</th>
                    <th>{{report.date}}</th>
                </tr>
            </tbody>
            {% endfor %}
        </table>
    </div>
    
    
</body>

</html>

{% endblock content %}